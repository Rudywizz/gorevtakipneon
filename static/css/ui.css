/* ========================================================================
   BİM Görev Takip – UI helpers (temizlenmiş sürüm)
   - Kart yükseltisi (card-raise / card-elevate)
   - Durum pill'leri (status-pill)
   - Tablo hizalama + hover şeridi hot-fix
   - Yardımcılar (clip, avatar, btn-elevate)
   - Dark-mode uyumu
   ====================================================================== */

/* --- Kart yükseltisi -------------------------------------------------- */
.card-raise,
.card-elevate{
  border:1px solid rgba(0,0,0,.06);
  border-radius:14px;
  box-shadow:0 6px 18px rgba(0,0,0,.08);
  background:var(--bs-body-bg,#fff);
}
.card-raise:hover,
.card-elevate:hover{ box-shadow:0 10px 24px rgba(0,0,0,.12); }

/* Dark mode kart */
body.dark-mode .card-raise,
body.dark-mode .card-elevate{
  border-color:#333; background:#1e1e1e;
  box-shadow:0 6px 18px rgba(0,0,0,.6);
}
body.dark-mode .card-raise:hover,
body.dark-mode .card-elevate:hover{ box-shadow:0 10px 28px rgba(0,0,0,.7); }

/* --- Tek satır ellipsis ---------------------------------------------- */
.clip{ max-width:320px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.clip-sm{ max-width:240px; } .clip-lg{ max-width:360px; }

/* --- Durum pill'leri (pastel) ---------------------------------------- */
.status-pill{
  display:inline-flex; align-items:center; gap:.25rem;
  padding:.15rem .55rem; border-radius:999px;
  font-size:.85rem; font-weight:600; line-height:1.1;
  border:1px solid rgba(0,0,0,.08); background:#f7f9fc;
  vertical-align:middle;
}
.status-done{        background:#e8f7ee; border-color:#c8ebd6; color:#166534; }
.status-in-progress,
.status-in_progress{ background:#fff7e6; border-color:#ffe4b3; color:#8a6d00; }
.status-waiting{     background:#eef1f6; border-color:#dfe5f0; color:#344767; }
.status-planned{     background:#eef7ff; border-color:#d6ecff; color:#0b5ed7; }
.status-cancelled{   background:#fdecec; border-color:#f7c8c8; color:#9d1c1c; }
.status-unknown{     background:#f1f3f5; border-color:#dee2e6; color:#495057; }

body.dark-mode .status-pill{ background:#1f2430; border-color:#2b3140; color:#e6eefc; }

/* --- Butonlar --------------------------------------------------------- */
.btn-elevate{ box-shadow:0 2px 6px rgba(0,0,0,.12); border-radius:10px; }
.btn-elevate:hover{ box-shadow:0 6px 14px rgba(0,0,0,.18); transform:translateY(-1px); }
.btn-elevate:active{ transform:translateY(0); box-shadow:0 3px 8px rgba(0,0,0,.16); }
.btn:focus-visible{ box-shadow:0 0 0 .25rem rgba(13,110,253,.25); }

/* --- Avatar (ilk harf balonu) ---------------------------------------- */
.avatar-initial{
  display:inline-flex; width:28px; height:28px; border-radius:50%;
  align-items:center; justify-content:center;
  font-weight:700; font-size:.8rem;
  background:#e9ecef; color:#495057; border:1px solid rgba(0,0,0,.05);
}
body.dark-mode .avatar-initial{ background:#2a2a2a; color:#e6e6e6; border-color:#3a3a3a; }

/* =====================================================================
   TABLOLAR – sabit yerleşim, taşma kontrolü ve düzgün hover şeridi
   =================================================================== */
.table td, .table th{ vertical-align:middle; hyphens:none; word-break:keep-all; }
.table thead th{ background:var(--bs-tertiary-bg,#f8f9fa); position:relative; z-index:1; }
body.dark-mode .table thead th{ background:#242424; }

/* Sabit sütun yerleşimi */
.table-fixed{ table-layout:fixed; width:100%; }

/* colgroup için genişlik yardımcıları (isteneni kullan) */
.table-fixed col.w-30{width:30%} .table-fixed col.w-28{width:28%}
.table-fixed col.w-24{width:24%} .table-fixed col.w-22{width:22%}
.table-fixed col.w-20{width:20%} .table-fixed col.w-18{width:18%}
.table-fixed col.w-16{width:16%} .table-fixed col.w-14{width:14%}
.table-fixed col.w-12{width:12%} .table-fixed col.w-10{width:10%}
.table-fixed col.w-9{width:9%}   .table-fixed col.w-8{width:8%}

/* Hücre içerik yardımcıları */
.tcell{ overflow:hidden; text-overflow:ellipsis; min-width:0; }
.t-clip{ white-space:nowrap; } /* tek satır */
.t-multi-2{ display:-webkit-box; -webkit-box-orient:vertical; -webkit-line-clamp:2; overflow:hidden; white-space:normal; } /* 2 satır */
.t-nowrap{ white-space:nowrap !important; font-variant-numeric:tabular-nums; } /* tarih/işlem gibi */
.name-wrap{ display:inline-flex; align-items:center; gap:.5rem; min-width:0; }
.name-wrap .name{ min-width:0; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }

/* Aksiyon kolonu sıkışmasın */
td.actions{ min-width:110px; }

/* Rozet genel hizası */
.badge{ vertical-align:middle; line-height:1.1; }

/* --- Hover şeridi tek parça olsun (yamukluk giderici) ----------------- */
/* Bootstrap varsayılanında hücre bazlı arka plan verilir; önce temizle */
.table-hover > tbody > tr > *{ background-color:transparent !important; }
/* sonra tüm hücrelere aynı tonu uygula */
.table-hover > tbody > tr:hover > *{
  background-color:var(--bs-table-hover-bg, rgba(13,110,253,.06)) !important;
}
body.dark-mode .table-hover > tbody > tr:hover > *{
  background-color:rgba(255,255,255,.06) !important;
}
/* ==== TABLO HARMONIZE: kırpma + tek parça satır arkaplan/border ==== */
.table-harmonize{
  table-layout: fixed;           /* genişlikler colgroup'tan */
  width:100%;
  border-collapse: collapse;     /* satır çizgisi tek parça */
  border-spacing: 0;
}

/* hücre arka planı kapat, tek tip alt-bordera geç */
.table-harmonize > :not(caption) > * > *{
  background: transparent !important;
  border-bottom: 1px solid var(--bs-table-border-color);
  padding: .65rem .75rem;
  vertical-align: middle;
  hyphens: none;
  word-break: keep-all;
}

/* hover tüm satıra tek parça uygula */
.table-harmonize tbody tr:hover{
  background-color: var(--bs-table-hover-bg, rgba(13,110,253,.06)) !important;
}
body.dark-mode .table-harmonize tbody tr:hover{
  background-color: rgba(255,255,255,.06) !important;
}

/* colgroup yardımcı sınıfları */
.table-harmonize col.w-30{width:30%} .table-harmonize col.w-28{width:28%}
.table-harmonize col.w-24{width:24%} .table-harmonize col.w-22{width:22%}
.table-harmonize col.w-20{width:20%} .table-harmonize col.w-18{width:18%}
.table-harmonize col.w-16{width:16%} .table-harmonize col.w-14{width:14%}

/* hücre içerik yardımcıları */
.tcell{min-width:0; overflow:hidden; text-overflow:ellipsis}
.t-clip{white-space:nowrap}
.t-multi-2{
  display:-webkit-box; -webkit-box-orient:vertical; -webkit-line-clamp:2;
  overflow:hidden; white-space:normal; overflow-wrap:anywhere; word-break:break-word;
}
.t-nowrap{white-space:nowrap !important; font-variant-numeric:tabular-nums}

/* avatar + isim wrap */
.name-wrap{display:inline-flex; align-items:center; gap:.5rem; min-width:0}
.name-wrap .name{min-width:0; overflow:hidden; text-overflow:ellipsis; white-space:nowrap}
